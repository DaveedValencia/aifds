{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://aifds.org/schemas/v1/faq.schema.json",
  "title": "AIFDS FAQ Feed (v1)",
  "description": "Canonical, machine-readable FAQ entries for a brand or organization. File name: faq.json",
  "type": "array",
  "minItems": 1,
  "items": {
    "type": "object",
    "additionalProperties": false,
    "required": ["question", "answer", "updated_at"],
    "properties": {
      "id": {
        "description": "Stable identifier for this FAQ entry (string or UUID).",
        "type": "string",
        "maxLength": 128
      },
      "question": {
        "description": "The user-facing question.",
        "type": "string",
        "minLength": 5,
        "maxLength": 2000
      },
      "answer": {
        "description": "The canonical answer to the question. Plain text or markdown allowed.",
        "type": "string",
        "minLength": 1,
        "maxLength": 20000
      },
      "category": {
        "description": "High-level grouping (e.g., Shipping, Returns, Ingredients, Billing).",
        "type": "string",
        "maxLength": 128
      },
      "tags": {
        "description": "Optional free-form keywords to aid retrieval.",
        "type": "array",
        "items": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64
        },
        "maxItems": 25,
        "uniqueItems": true
      },
      "language": {
        "description": "BCP-47 language tag (e.g., en, en-US, es-MX).",
        "type": "string",
        "pattern": "^[A-Za-z]{2,3}(-[A-Za-z0-9]{2,8})*$",
        "default": "en"
      },
      "source_url": {
        "description": "Public URL that substantiates the answer (policy page, PDP, etc.).",
        "type": "string",
        "format": "uri"
      },
      "effective_from": {
        "description": "Datetime when this answer becomes valid (ISO 8601).",
        "type": "string",
        "format": "date-time"
      },
      "effective_to": {
        "description": "Datetime when this answer expires, if applicable (ISO 8601). NOTE: Enforce effective_to >= effective_from in the validator.",
        "type": "string",
        "format": "date-time"
      },
      "updated_at": {
        "description": "Last update timestamp for this entry (ISO 8601).",
        "type": "string",
        "format": "date-time"
      },
      "version": {
        "description": "Publisher-managed version of this FAQ entry.",
        "type": "string",
        "maxLength": 50
      },
      "related_question_ids": {
        "description": "IDs of closely related FAQs (for graphing and clustering).",
        "type": "array",
        "items": { "type": "string", "maxLength": 128 },
        "maxItems": 50,
        "uniqueItems": true
      }
    }
  },
  "examples": [
    [
      {
        "id": "faq-shipping-free",
        "question": "Do you offer free shipping?",
        "answer": "Yes. We offer free standard shipping on U.S. orders over $50.",
        "category": "Shipping",
        "tags": ["shipping", "free", "threshold"],
        "language": "en",
        "source_url": "https://example.com/shipping",
        "updated_at": "2025-10-02T16:00:00Z",
        "version": "1.0.0"
      },
      {
        "id": "faq-returns-window",
        "question": "What is your return policy?",
        "answer": "Returns are accepted within 30 days if unopened and unused. Contact support for an RMA.",
        "category": "Returns",
        "tags": ["returns", "policy", "refund"],
        "language": "en-US",
        "source_url": "https://example.com/returns",
        "updated_at": "2025-10-02T16:00:00Z",
        "version": "1.1.0",
        "related_question_ids": ["faq-returns-process"]
      }
    ]
  ]
}
